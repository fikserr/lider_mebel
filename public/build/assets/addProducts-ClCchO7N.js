import{c as e,r as a,v as s,j as l,X as t}from"./app-BYElD7EB.js";import{u as r}from"./use-toast-DsNCB_oK.js";
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=e("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),n=({categories:e})=>{const{toast:n}=r(),[i,d]=a.useState({photo1:null,photo2:null,photo3:null}),{data:c,setData:u,post:h,processing:p,errors:m,reset:x}=s({product_name:"",category_id:"",brend:"",photo1:null,photo2:null,photo3:null,variants:[]}),g=e=>{const{name:a,value:s}=e.target;u(a,s)},v=(e,a,s)=>{const l=[...c.variants];l[e][a]="sizes"===a||"colors"===a?s.split(",").map(e=>e.trim()):s,u("variants",l)};return l.jsxs("div",{className:"px-5 w-[1200px]",children:[l.jsx("h1",{className:"text-3xl font-bold mb-4 p-5",children:"Mahsulot qo'shish"}),l.jsxs("form",{onSubmit:e=>{e.preventDefault(),n({title:"Saqlanmoqda...",description:"Mahsulot qo'shilmoqda, iltimos kuting..."}),h("/admin-add-store",{forceFormData:!0,onSuccess:()=>{x(),d({photo1:null,photo2:null,photo3:null}),n({title:"Success",description:"Mahsulot muvaffaqiyatli qo'shildi"}),window.location.href="/admin-productStock"},onError:()=>{n({title:"Xatolik",description:"Ma'lumotlarni to'ldirishda xatolik bor."})}})},className:"space-y-6 max-w-4xl mx-auto",children:[l.jsx("div",{className:"flex gap-24 justify-center",children:[1,2,3].map(e=>l.jsx("div",{className:"flex flex-col items-center hover:scale-110 transition-all duration-700",children:l.jsxs("div",{className:"relative group w-24 h-24",children:[l.jsx("div",{className:"w-full h-full bg-slate-200 rounded-full flex items-center justify-center shadow-lg overflow-hidden",children:i[`photo${e}`]?l.jsx("img",{src:i[`photo${e}`],loading:"lazy",alt:`Preview ${e}`,className:"w-full h-full object-cover"}):l.jsx("span",{className:"text-5xl animate-pulse",children:"ðŸ“·"})}),l.jsxs("label",{className:"absolute inset-0 flex items-center justify-center cursor-pointer bg-black bg-opacity-0 hover:bg-opacity-30 rounded-full transition",children:[l.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>((e,a)=>{const s=e.target.files[0];if(s){u(a,s);const e=new FileReader;e.onloadend=()=>{d(s=>({...s,[a]:e.result}))},e.readAsDataURL(s)}})(a,`photo${e}`)}),l.jsx("span",{className:"text-xs text-white bg-black bg-opacity-50 px-2 py-1 rounded-full",children:"Upload"})]})]})},e))}),l.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[l.jsx("input",{name:"product_name",value:c.product_name,onChange:g,placeholder:"Product name",className:"w-full border p-5 rounded-lg outline-none"}),m.product_name&&l.jsx("div",{className:"text-red-600",children:m.product_name}),l.jsxs("select",{name:"category_id",value:c.category_id,onChange:g,className:"w-full border p-5 rounded-lg outline-none",children:[l.jsx("option",{value:"",children:"Kategoriya tanlang"}),e.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]}),m.category_id&&l.jsx("div",{className:"text-red-600",children:m.category_id}),l.jsx("input",{name:"brend",value:c.brend,onChange:g,placeholder:"Brend",className:"w-full border p-5 rounded-lg outline-none"})]}),l.jsxs("div",{className:"border-t pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-semibold",children:"Mahsulot variantlari"}),l.jsxs("button",{type:"button",onClick:()=>{u("variants",[...c.variants,{sizes:"",colors:"",price:""}])},className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:shadow-lg transition-all duration-300 hover:scale-105",children:[l.jsx(o,{className:"w-5 h-5"}),"Variant qo'shish"]})]}),c.variants.length>0&&l.jsx("div",{className:"space-y-3 mt-4",children:c.variants.map((e,a)=>l.jsxs("div",{className:"flex gap-4 items-center bg-gray-50 p-4 rounded-lg border border-gray-200 hover:shadow-md transition-all",children:[l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Razmerlar (masalan: S, M, L)",value:Array.isArray(e.sizes)?e.sizes.join(", "):e.sizes,onChange:e=>v(a,"sizes",e.target.value),className:"border p-3 rounded-lg w-full outline-none focus:ring-2 focus:ring-blue-300"})}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"text",placeholder:"Ranglar (masalan: qizil, ko'k)",value:Array.isArray(e.colors)?e.colors.join(", "):e.colors,onChange:e=>v(a,"colors",e.target.value),className:"border p-3 rounded-lg w-full outline-none focus:ring-2 focus:ring-blue-300"})}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{type:"number",placeholder:"Narx (masalan: 100000)",value:e.price,onChange:e=>v(a,"price",e.target.value),className:"border p-3 rounded-lg w-full outline-none focus:ring-2 focus:ring-blue-300"})}),l.jsx("button",{type:"button",onClick:()=>(e=>{const a=c.variants.filter((a,s)=>s!==e);u("variants",a)})(a),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-all",children:l.jsx(t,{className:"w-5 h-5"})})]},a))}),0===c.variants.length&&l.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:l.jsx("p",{className:"text-gray-500",children:"Hozircha variant qo'shilmagan. \"Variant qo'shish\" tugmasini bosing."})})]}),l.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-lg mt-6 font-semibold hover:shadow-xl transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Saqlanmoqda...":"ðŸ’¾ Saqlash"})]})]})};export{n as default};
